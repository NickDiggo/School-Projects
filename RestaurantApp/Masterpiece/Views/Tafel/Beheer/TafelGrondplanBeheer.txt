@model Restaurant.ViewModels.Tafel.TafelGrondplanBeheerViewModel

@{
    Layout = "~/Views/Tafel/_TafelLayout.cshtml";
}

<h2 class="twinkle gold-soft mb-3">Tafels – Grondplan (Beheer)</h2>

<p class="text-muted mb-2">
    Sleep de tafels om de volgorde te wijzigen. De layout wordt lokaal onthouden in je browser.
</p>

<div class="tafel-grid js-tafel-grid">
    @foreach (var item in Model.Tafels
    .OrderBy(t => t.DisplayOrder)
    .ThenBy(t => t.TafelNummer))
    {
        @await Html.PartialAsync("~/Views/Tafel/Shared/_TafelTile.cshtml", item)
    }
</div>

<button type="button"
        id="tafelLayoutSaveBtn"
        class="btn btn-sm btn-outline-light mt-3"
        style="display:none;">
    Layout opslaan (lokaal)
</button>

@section Scripts {
    <script src="~/js/tafel-layout.js"></script>
}

<style>
    .tafel-grid {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 1.75rem;
        padding: 1rem 0 2rem;
        max-width: 1100px;
        margin: 0 auto;
    }

    .tafel-box {
        background: #0d6efd;
        color: white;
        border-radius: 0.5rem;
        font-size: 0.85rem;
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: 600;
        height: 180px;
        user-select: none;
    }

    .size-s {
        grid-column: span 3;
    }

    .size-m {
        grid-column: span 4;
    }

    .size-l {
        grid-column: span 5;
    }

    .size-xl {
        grid-column: span 6;
    }
</style>
